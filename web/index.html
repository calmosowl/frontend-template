<!DOCTYPE html>
<html lang="ru">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>counter</title>
	<link href="css/style.css" rel="stylesheet">
	<script src="js/counter.js"></script>
</head>

<body style="margin: 0;">
	<header>
			<!-- Widget -->
			<div class="top-panel-wrapper">
				<div class="top-panel">
					<div class="left">
						535.98 EUR
					</div>
					<div class="center">
						
					</div>
					<div class="right">
						last jackpot: 07/05/17
					</div>
				</div>
			</div>
		<script>
		"use strict";
		document.addEventListener("DOMContentLoaded", (ev) => {
			(()=>{
				let a = new JackPotCounter({
					jackName	: 'JackPot-A',
					tickLength	: 5000,
					jackOrder	: 1,
					numRolls	: 7
				});
		
				let b = new JackPotCounter({
					jackName	: 'JackPot-B',
					tickLength	: 10000,
					jackOrder	: 2,
					numRolls	: 7
				});
		
				let c = new JackPotCounter({
					jackName	: 'JackPot-C',
					tickLength	: 5000,
					jackOrder	: 3,
					numRolls	: 7
				});
		
				let d = new JackPotCounter({
					jackName	: 'JackPot-D',
					tickLength	: 5000,
					jackOrder	: 4,
					numRolls	: 7
				});
		
		/*	slider	*/
				const parent = document.querySelector('.center');
				const widgetHeight = parent.clientHeight;
		
					var	arr = Array.from(document.querySelectorAll('.jackpot-item')),
						parentWidth = parent.clientWidth,
						itemsWidth = arr.reduce(function(sum, current) {
							return sum + current.clientWidth;
						}, 0);
		
				var order = (el, int) => el.style.order = int;
				var arrOrders = Array.from({ length: arr.length }, (v, k) => k); 
		
		
				let slider = () => {
					if(itemsWidth > parent.clientWidth) {
						for (var i = arr.length; i > 0; i--) {
							order(arr[i-1], arrOrders[arrOrders.length - i]);
						}
					arrOrders.push(arrOrders.shift());
					}
					setTimeout(slider, 5000);
				}
		
				slider();
		
		/*  for test  */		
				var input = document.getElementById('r'),
					inputZ = document.getElementById('z');
		
				input.oninput = (ev) => {
					a.setCurrentValue(parseInt(input.value));
					a.run(ev);
				};
				inputZ.oninput = (ev) => {
					b.setCurrentValue(parseInt(inputZ.value));
					b.run(ev);
				};
		/*  /for test  */	
			
			})();
		}, false);
		</script>
		<!-- Widget -->
	</header>
	<main>
		<!-- for test -->
	<form oninput="x.value=parseInt(r.value)">
		<input id="r" type="range" min="0" max="10" step="1" value="0">
		<output id="x" name="x" for="r">0</output>
	</form>
	<form oninput="y.value=parseInt(z.value)">
		<input id="z" type="range" min="0" max="10" step="1" value="0">
		<output id="y" name="y" for="z">0</output>
	</form>
	<!-- /for test -->
	</main>
</body>
</html>